{% extends "base.html" %}

{% load staticfiles %}

{% block extrastyles %}
<link rel="stylesheet" type="text/css" href="{% static 'css/tree.css' %}">
{% endblock extrastyles %}

{% block content %}

{% include "tos_web/partials/header.html" %}

<div class="dataapp">
  <div class="row">
    <ul class="tabs">
      <li class="tab col s6"><a class="active" href="#treetab">Tree View</a></li>
      <li class="tab col s6"><a href="#list">List View</a></li>
    </ul>

    <div id="treetab" class="col s12">
      <div class="col m6 s12">
        {# Here goes the tree... #}
        <!--       <img class="responsive-img" src="{% static 'img/logo.png' %}" alt=""/> -->
        <div id="tree"></div>
      </div>
      <div class="col m6 s12">
        <h4>{{ query.description }}</h4>
        {# And here the info... #}
        <div class="card">
          <div class="card-content">
            <ul class="collection selectedNodes">
            </ul>
          </div>
          <div class="card-action">
            <a class="blue-text text-darken-2" href="{% url 'queries-export' query.pk %}" download="{{ query.description }}">Export CSV file</a>
          </div>
        </div>
      </div>
    </div>
    <div id="list" class="col s12">
      <div class="card">
        <div class="card-content">
          <span class="card-title grey-text text-darken-4">{{ query.description }}</span>
          <ul class="collection allnodes">
          </ul>

        </div>
      </div>
    </div>
  </div>
</div>
{% endblock content %}

{% block extrascripts %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
<script src="{% static 'js/tree.js' %}" type="text/javascript" charset="utf-8"></script>
{% endblock extrascripts %}
